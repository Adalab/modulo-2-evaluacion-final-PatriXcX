const f=document.querySelector(".js__charactersCards"),u=document.querySelector(".js__favourites"),h=document.querySelector(".js__searchBar"),m=document.querySelector(".js__searchButton"),g=document.querySelector(".js__clearFavouritesButton");let r=[],n=[];const i=e=>{let t="";return t+=`<li class="js__listStyles listStyles" data-id="${e._id}">`,t+=`<img src="${e.imageUrl}" class="card_img" alt= "${e.name}">`,t+=`<h3 class= "card__title"> ${e.name}</h3>`,t+="</li>",t},d=()=>{let e="";for(const a of r)e+=i(a);f.innerHTML=e;const t=document.querySelectorAll(".js__listStyles");for(const a of t)a.addEventListener("click",v)};function l(){let e="";for(const t of n)e+=i(t);u.innerHTML=e}function S(){n=[],l()}function v(e){debugger;console.log(e.currentTarget),e.currentTarget.classList.toggle("favourite");const t=e.currentTarget.dataset.id;console.log(t);const a=r.find(c=>c._id.toString()===t),s=n.findIndex(c=>c._id.toString()===t);s===-1?(n.push(a),localStorage.setItem("favs",JSON.stringify(n)),l()):(n.splice(s,1),localStorage.setItem("favs",JSON.stringify(n)),l()),e.currentTarget()}function _(e){e.preventDefault();const t=h.value;console.log(t),fetch(`//api.disneyapi.dev/character?pageSize=50&name=${t}`).then(a=>a.json()).then(a=>{r=a.data,d()})}const y=()=>{fetch("//api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{r=e.data;const t=r.findIndex(c=>c.name==="Irwina Allen"),a=r.findIndex(c=>c.name==="Arabella"),s=r.findIndex(c=>c.name==="Amelia Duckworth");t!==-1&&(r[t].imageUrl="//via.placeholder.com/210x295/ffffff/555555/?text=Disney"),a!==-1&&(r[a].imageUrl="//via.placeholder.com/210x295/ffffff/555555/?text=Disney"),s!==-1&&(r[s].imageUrl="//via.placeholder.com/210x295/ffffff/555555/?text=Disney"),d()})},o=JSON.parse(localStorage.getItem("favs"));o!==null&&(n=o,l());y();m.addEventListener("click",_);g.addEventListener("click",S);
//# sourceMappingURL=main.js.map
